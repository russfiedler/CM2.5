<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=EUC-JP">
<title>Module ocean_nphysics_diff_mod</title>
<link type="text/css" href="http://data1.gfdl.noaa.gov/~fms/style/docbook.css" rel="stylesheet">
<STYLE TYPE="text/css">
          .fixed {
            font-size:medium;
            font-family:monospace;
            border-style:none;
            border-width:0.1em;
            padding:0.1em;
            color:#663366;
          }
        </STYLE>
</head>
<body>
<a name="TOP"></a><font class="header" size="1"><a href="#PUBLIC INTERFACE">PUBLIC INTERFACE </a>~
          <a href="#PUBLIC DATA">PUBLIC DATA </a>~
          <a href="#PUBLIC ROUTINES">PUBLIC ROUTINES </a>~
          <a href="#NAMELIST">NAMELIST </a>~
          <a href="#DIAGNOSTIC FIELDS">DIAGNOSTIC FIELDS </a>~
          <a href="#ERROR MESSAGES">ERROR MESSAGES </a>~
          <a href="#REFERENCES">REFERENCES </a>~ 
          <a href="#NOTES">NOTES</a></font>
<hr>
<h2>Module ocean_nphysics_diff_mod</h2>
<a name="HEADER"></a>
<!-- BEGIN HEADER -->
<div>
<b>Contact:&nbsp;</b><a href="mailto:tim.leslie@gmail.com"> Tim Leslie
</a>,&nbsp;
    <a href="mailto:GFDL.Climate.Model.Info@noaa.gov"> Stephen M. Griffies
</a>
<br>
<b>Reviewers:&nbsp;</b>
<br>
<b>Change History:&nbsp;</b><a href="http://cobweb.gfdl.noaa.gov/fms-cgi-bin/viewcvs/FMS/ocean/mom5/ocean_param/neutral">WebCVS Log</a>
<br>
<br>
</div>
<!-- END HEADER -->
<a name="OVERVIEW"></a>
<hr>
<h4>OVERVIEW</h4>
<!-- BEGIN OVERVIEW -->
<p class="text">
 Compute the neutral diffusivity in this module. 
</p>
<!-- END OVERVIEW -->
<a name="DESCRIPTION"></a>
<!-- BEGIN DESCRIPTION -->
<div>
 This module computes the neutral diffusivity. There are many 
 methods available. 
</div>
<br>
<!-- END DESCRIPTION -->
<a name="OTHER MODULES USED"></a>
<hr>
<h4>OTHER MODULES USED</h4>
<!-- BEGIN OTHER MODULES USED -->
<div>
<pre>              constants_mod<br>                    fms_mod<br>            mpp_domains_mod<br>                    mpp_mod<br>          ocean_domains_mod<br>ocean_nphysics_util_new_mod<br>        ocean_operators_mod<br>       ocean_parameters_mod<br>      ocean_tracer_diag_mod<br>            ocean_types_mod<br>             ocean_util_mod</pre>
</div>
<!-- END OTHER MODULES USED -->
<!-- BEGIN PUBLIC INTERFACE -->
<a name="PUBLIC INTERFACE"></a>
<hr>
<h4>PUBLIC INTERFACE</h4>
<div>
<dl>
<dt>
<a href="#check_nml_options">check_nml_options</a>:</dt>
<dd></dd>
<dt>
<a href="#init_globals">init_globals</a>:</dt>
<dd></dd>
<dt>
<a href="#register fields">register fields</a>:</dt>
<dd></dd>
<dt>
<a href="#diffusivity_init">diffusivity_init</a>:</dt>
<dd></dd>
<dt>
<a href="#check_stability">check_stability</a>:</dt>
<dd></dd>
<dt>
<a href="#compute_diffusivity">compute_diffusivity</a>:</dt>
<dd></dd>
<dt>
<a href="#compute_agm">compute_agm</a>:</dt>
<dd></dd>
<dt>
<a href="#compute_raw_growth_rate">compute_raw_growth_rate</a>:</dt>
<dd></dd>
<dt>
<a href="#compute_growth_rate">compute_growth_rate</a>:</dt>
<dd></dd>
<dt>
<a href="#vertical_average">vertical_average</a>:</dt>
<dd></dd>
<dt>
<a href="#compute_length">compute_length</a>:</dt>
<dd></dd>
<dt>
<a href="#compute_bczone_radius">compute_bczone_radius</a>:</dt>
<dd></dd>
<dt>
<a href="#compute_aredi">compute_aredi</a>:</dt>
<dd></dd>
<dt>
<a href="#apply_grid_scaling">apply_grid_scaling</a>:</dt>
<dd></dd>
</dl>
</div>
<br>
<!-- END PUBLIC INTERFACE -->
<a name="PUBLIC DATA"></a>
<hr>
<h4>PUBLIC DATA</h4>
<!-- BEGIN PUBLIC DATA -->
<div>None.<br>
<br>
</div>
<!-- END PUBLIC DATA -->
<a name="PUBLIC ROUTINES"></a>
<hr>
<h4>PUBLIC ROUTINES</h4>
<!-- BEGIN PUBLIC ROUTINES -->
<ol type="a">
<li>
<a name="check_nml_options"></a>
<h4>check_nml_options</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Read in the namelist parameters and ensure that valid values have been
 choosen.
 Also determine whether agm is z-dependent.
 </dd>
<br>
<br>
</dl>
</li>
<li>
<a name="init_globals"></a>
<h4>init_globals</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Allocate and initialise all (non-namelist) global variables in the module.
 </dd>
<br>
<br>
</dl>
</li>
<li>
<a name="register fields"></a>
<h4>register fields</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Register diagnostic fields.
 </dd>
<br>
<br>
</dl>
</li>
<li>
<a name="diffusivity_init"></a>
<h4>diffusivity_init</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Initialise the three diffusivity arrays.
 </dd>
<br>
<br>
</dl>
</li>
<li>
<a name="check_stability"></a>
<h4>check_stability</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Check the stability assumptions and print details of the limits of stability.
 </dd>
<br>
<br>
</dl>
</li>
<li>
<a name="compute_diffusivity"></a>
<h4>compute_diffusivity</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 
</dd>
<br>
<br>
</dl>
</li>
<li>
<a name="compute_agm"></a>
<h4>compute_agm</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Compute the flow-dependent GM diffusivity.
 </dd>
<br>
<br>
</dl>
</li>
<li>
<a name="compute_raw_growth_rate"></a>
<h4>compute_raw_growth_rate</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Compute the raw growth rate at each grid point, using either the eady
 growth rate or the baroclinicity to obtain raw_growth_rate = NS
 </dd>
<br>
<br>
</dl>
</li>
<li>
<a name="compute_growth_rate"></a>
<h4>compute_growth_rate</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Take the raw growth rate and convert it to a final growth rate to be
 used in the diffusivity calculations.
 </dd>
<br>
<br>
</dl>
</li>
<li>
<a name="vertical_average"></a>
<h4>vertical_average</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Compute the vertical average of the given array between D_t and D_b, 
 as specified by agm_rate_upper_depth and agm_rate_lower_depth.
 </dd>
<br>
<br>
</dl>
</li>
<li>
<a name="compute_length"></a>
<h4>compute_length</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Compute the flow-dependent length scale involved in the GM diffusivity
 calculations.
 </dd>
<br>
<br>
</dl>
</li>
<li>
<a name="compute_bczone_radius"></a>
<h4>compute_bczone_radius</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Subroutine computes the radius of the baroclinic zone in a manner
 suggested by the Hadley Centre approach (Malcolm Roberts, personal
 communication).

 Algorithm is used in MOM3 and documented in the MOM3 Manual.
 </dd>
<br>
<br>
</dl>
</li>
<li>
<a name="compute_aredi"></a>
<h4>compute_aredi</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Compute the flow-dependent neutral (Redi) diffusivity.
 </dd>
<br>
<br>
</dl>
</li>
<li>
<a name="apply_grid_scaling"></a>
<h4>apply_grid_scaling</h4>
<dl>
<dt>
<b>DESCRIPTION</b>
</dt>
<dd>
 Scale the supplied array as a function of the grid length and the
 Rossby radius. The scaling factor takes a value between zero and one.

 Interesting values of the scaling factor are
 1.0 if Rossby radius = 0.0
 0.5 if Rossby radius = grid length
 -&gt; 0 as rossby radius -&gt; inf
 </dd>
<br>
<br>
</dl>
</li>
</ol>
<!-- END PUBLIC ROUTINES -->
<a name="PUBLIC TYPES"></a>
<!-- BEGIN PUBLIC TYPES -->
<!-- END PUBLIC TYPES --><a name="NAMELIST"></a>
<!-- BEGIN NAMELIST -->
<hr>
<h4>NAMELIST</h4>
<div>
<b>&amp;ocean_nphysics_diff_nml</b>
<br>
<br>
<div>
<dl>
<dt>
<tt></tt>
</dt>
<dl>
  
<br>
<span class="type">[logical]</span>
</dl>
</dl>
</div>
</div>
<br>
<!-- END NAMELIST -->
<a name="DIAGNOSTIC FIELDS"></a>
<!-- BEGIN DIAGNOSTIC FIELDS -->
<!-- END DIAGNOSTIC FIELDS --><a name="DATA SETS"></a>
<!-- BEGIN DATA SETS -->
<hr>
<h4>DATA SETS</h4>
<div>None.<br>
<br>
</div>
<!-- END DATA SETS -->
<a name="PUBLIC CODE"></a>
<!-- BEGIN PUBLIC CODE -->
<!-- END PUBLIC CODE --><a name="ERROR MESSAGES"></a>
<!-- BEGIN ERROR MESSAGES -->
<hr>
<h4>ERROR MESSAGES</h4>
<div>None.<br>
<br>
</div>
<!-- END ERROR MESSAGES -->
<a name="REFERENCES"></a>
<hr>
<h4>REFERENCES</h4>
<!-- BEGIN REFERENCES -->
<div>
<ol>
<li>
 S.M. Griffies 
 Fundamentals of Ocean Climate Models (FOCM) (2004)
 Princeton University Press 
 </li>
<li>
 S.M. Griffies, Elements of MOM (2012)
 </li>
</ol>
</div>
<br>
<!-- END REFERENCES -->
<a name="COMPILER SPECIFICS"></a>
<hr>
<h4>COMPILER SPECIFICS</h4>
<!-- BEGIN COMPILER SPECIFICS -->
<div>
        None.
      </div>
<br>
<!-- END COMPILER SPECIFICS -->
<a name="PRECOMPILER OPTIONS"></a>
<hr>
<h4>PRECOMPILER OPTIONS</h4>
<!-- BEGIN PRECOMPILER OPTIONS -->
<div>
        None.
      </div>
<br>
<!-- END PRECOMPILER OPTIONS -->
<a name="LOADER OPTIONS"></a>
<hr>
<h4>LOADER OPTIONS</h4>
<!-- BEGIN LOADER -->
<div>None.<br>
<br>
</div>
<!-- END LOADER OPTIONS -->
<a name="TEST PROGRAM"></a>
<hr>
<h4>TEST PROGRAM</h4>
<!-- BEGIN TEST PROGRAM -->
<div>None.<br>
</div>
<br>
<!-- END TEST PROGRAM -->
<a name="KNOWN BUGS"></a>
<hr>
<h4>KNOWN BUGS</h4>
<!-- BEGIN KNOWN BUGS -->
<div>
        None.
      </div>
<br>
<!-- END KNOWN BUGS -->
<a name="NOTES"></a>
<hr>
<h4>NOTES</h4>
<!-- BEGIN NOTES -->
<div>None.<br>
</div>
<br>
<!-- END NOTES -->
<a name="FUTURE PLANS"></a>
<hr>
<h4>FUTURE PLANS</h4>
<!-- BEGIN FUTURE PLANS -->
<div>
        None.
      </div>
<br>
<!-- END FUTURE PLANS -->
<hr>
<div align="right">
<font size="-1"><a href="#TOP">top</a></font>
</div>
</body>
</html>
